<div class="container py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="h4 mb-0">{{ clientId ? 'Editar Cliente' : 'Cadastro de Cliente' }}</h1>
    <a class="btn btn-outline-secondary" routerLink="/clientes">Voltar</a>
  </div>

  <div class="card">
    <div class="card-body">
      <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">CNPJ</label>
            <div class="input-group">
              <input
                class="form-control"
                placeholder="00.000.000/0001-00"
                formControlName="cnpj"
                inputmode="numeric"
                (input)="onCnpjInput($event)"
              >
              <button class="btn btn-outline-primary" type="button" (click)="buscarCnpj()" [disabled]="cnpjLoading">
                {{ cnpjLoading ? 'Buscando...' : 'Buscar CNPJ' }}
              </button>
            </div>
          </div>
          <div class="col-md-8">
            <label class="form-label">Razao Social</label>
            <input class="form-control" placeholder="Razao social" formControlName="razaoSocial">
          </div>
          <div class="col-md-6">
            <label class="form-label">E-mail</label>
            <input class="form-control" type="email" placeholder="email@exemplo.com" formControlName="email">
          </div>
        </div>
        <div class="mt-3" *ngIf="error">
          <div class="alert alert-danger py-2">{{ error }}</div>
        </div>
        <div class="mt-4">
          <button class="btn btn-primary" [disabled]="loading || form.invalid">
            {{ loading ? 'Salvando...' : 'Salvar' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
